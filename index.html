<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ada & Simone ‚Äì Invito</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,600&family=Playfair+Display:ital,wght@0,500;0,700;1,600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#fbf7f0;
      --bg2:#f1e6d2;
      --paper:#fffdf7;
      --ink:#2b2b2b;
      --muted:#6b6b6b;

      --gold:#b58a3a;
      --rose:#c65f7b;
      --teal:#2f8f88;

      --envCream:#fff7ea;
      --envCream2:#f6ead8;

      --shadow: 0 18px 50px rgba(0,0,0,.18);
      --shadow2: 0 15px 40px rgba(0,0,0,.18);
      --radius:24px;
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background:linear-gradient(180deg,var(--bg1),var(--bg2));
      color:var(--ink);
      overflow-x:hidden;
      font-family:"Cormorant Garamond", Georgia, serif;
    }

    .wrap{
      width:min(460px,92vw);
      text-align:center;
      position:relative;
      padding:26px 0 34px;
    }

    /* Music toggle */
    .music{
      position:fixed;
      top:14px; right:14px;
      width:44px; height:44px;
      border-radius:999px;
      background:rgba(255,255,255,.88);
      display:none;
      place-items:center;
      box-shadow:0 6px 20px rgba(0,0,0,.15);
      cursor:pointer;
      z-index:30;
      font-size:20px;
      user-select:none;
    }

    /* Envelope wrapper */
    .envWrap{
      position:relative;
      width:100%;
      height:320px;
      padding-top:28px;
      display:block;
    }

    /* ‚ÄúPer ‚Ä¶‚Äù line */
    .toLine{
      position:absolute;
      top:0;
      left:50%;
      transform:translateX(-50%);
      z-index:20;
      font-family:"Playfair Display", serif;
      font-size:18px;
      color:rgba(43,43,43,.88);
      letter-spacing:.02em;
      padding:7px 16px;
      border-radius:999px;
      background:rgba(255,255,255,.72);
      border:1px solid rgba(181,138,58,.26);
      box-shadow:0 10px 20px rgba(0,0,0,.06);
      white-space:nowrap;
    }

    .env{
      width:100%;
      height:260px;
      border-radius:22px;
      background:linear-gradient(180deg,var(--envCream),var(--envCream2));
      box-shadow:var(--shadow2);
      position:relative;
      overflow:hidden;
      cursor:pointer;
      user-select:none;
      border:1px solid rgba(181,138,58,.20);
      margin-top:18px;
    }

    /* Gold frame detail */
    .goldFrame{
      position:absolute;
      inset:12px;
      border-radius:18px;
      border:1px solid rgba(181,138,58,.40);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.35);
      z-index:0;
      pointer-events:none;
    }
    .goldCorner{
      position:absolute;
      width:18px;height:18px;
      border:2px solid rgba(181,138,58,.55);
      z-index:0;
      pointer-events:none;
      opacity:.85;
    }
    .c1{top:18px;left:18px;border-right:none;border-bottom:none;border-radius:10px 0 0 0;}
    .c2{top:18px;right:18px;border-left:none;border-bottom:none;border-radius:0 10px 0 0;}
    .c3{bottom:18px;left:18px;border-right:none;border-top:none;border-radius:0 0 0 10px;}
    .c4{bottom:18px;right:18px;border-left:none;border-top:none;border-radius:0 0 10px 0;}

    /* Bottom envelope triangles */
    .env:before, .env:after{
      content:"";
      position:absolute;
      bottom:-2px;
      width:55%;
      height:62%;
      background:linear-gradient(180deg,#f4e7d5,#eddcc5);
      z-index:1;
      opacity:.95;
    }
    .env:before{
      left:-10%;
      transform:skewX(18deg);
      clip-path:polygon(0 100%, 100% 100%, 100% 0);
    }
    .env:after{
      right:-10%;
      transform:skewX(-18deg);
      clip-path:polygon(0 0, 0 100%, 100% 100%);
    }

    /* Top flap triangle */
    .flap{
      position:absolute;
      top:-1px;
      left:0;
      width:100%;
      height:62%;
      background:linear-gradient(180deg,#fbf3e6,#f0e0c9);
      clip-path:polygon(0 0, 100% 0, 50% 78%);
      transform-origin:top;
      transition:transform 1.1s ease;
      z-index:3;
      box-shadow: inset 0 -1px 0 rgba(181,138,58,.18);
    }
    .flap:after{
      content:"";
      position:absolute;
      left:10%;
      right:10%;
      top:0;
      height:2px;
      background:linear-gradient(90deg, transparent, rgba(181,138,58,.55), transparent);
      opacity:.9;
    }

    /* Inner paper peek */
    .paperPeek{
      position:absolute;
      left:8%;
      right:8%;
      top:22%;
      height:54%;
      border-radius:18px;
      background:linear-gradient(180deg,#fffdf7,#fbf5ea);
      z-index:0;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.04);
    }

    /* Vintage embossed wax seal */
    .seal{
      position:absolute;
      top:52%;
      left:50%;
      transform:translate(-50%,-50%);
      width:96px;
      height:96px;
      border-radius:999px;
      z-index:4;
      display:grid;
      place-items:center;
      color:#fff;
      font-family:"Playfair Display", serif;
      letter-spacing:.07em;
      text-transform:uppercase;

      background:
        radial-gradient(circle at 32% 28%, rgba(255,255,255,.22), transparent 38%),
        radial-gradient(circle at 70% 78%, rgba(0,0,0,.28), transparent 48%),
        radial-gradient(circle at 28% 72%, rgba(0,0,0,.18), transparent 50%),
        radial-gradient(circle at 50% 50%, #c3172b 0%, #a11325 50%, #7a0d1b 100%);

      box-shadow:
        0 16px 30px rgba(0,0,0,.27),
        inset 0 7px 10px rgba(255,255,255,.10),
        inset 0 -12px 16px rgba(0,0,0,.30);
      border:1px solid rgba(0,0,0,.10);
      filter: saturate(0.98) contrast(1.02);
    }
    .seal:before{
      content:"";
      position:absolute;
      inset:-8px;
      border-radius:999px;
      background:
        radial-gradient(circle at 12% 22%, rgba(122,13,27,.55), transparent 40%),
        radial-gradient(circle at 85% 18%, rgba(122,13,27,.45), transparent 40%),
        radial-gradient(circle at 18% 86%, rgba(122,13,27,.45), transparent 42%),
        radial-gradient(circle at 88% 84%, rgba(122,13,27,.55), transparent 44%),
        radial-gradient(circle at 52% 102%, rgba(122,13,27,.40), transparent 45%),
        radial-gradient(circle at 50% 50%, rgba(194,23,43,.35), rgba(122,13,27,.10));
      filter: blur(1.2px);
      opacity:.65;
      z-index:-1;
    }
    .seal:after{
      content:"";
      position:absolute;
      inset:0;
      border-radius:999px;
      background:
        radial-gradient(circle at 20% 35%, rgba(255,255,255,.10) 0 1px, transparent 2px),
        radial-gradient(circle at 68% 42%, rgba(0,0,0,.12) 0 1px, transparent 2px),
        radial-gradient(circle at 44% 70%, rgba(0,0,0,.10) 0 1px, transparent 2px),
        radial-gradient(circle at 58% 62%, rgba(255,255,255,.08) 0 1px, transparent 2px),
        radial-gradient(circle at 30% 58%, rgba(255,255,255,.07) 0 1px, transparent 2px),
        radial-gradient(circle at 78% 66%, rgba(0,0,0,.10) 0 1px, transparent 2px),
        linear-gradient(135deg, rgba(255,255,255,.05), rgba(0,0,0,.06));
      opacity:.55;
      mix-blend-mode: overlay;
      pointer-events:none;
    }

    .seal .mono{
      font-size:18px;
      font-weight:800;
      color:rgba(255,255,255,.92);
      text-shadow:
        0 -1px 0 rgba(255,255,255,.25),
        0  2px 0 rgba(0,0,0,.35),
        0  0 10px rgba(0,0,0,.20);
      filter: drop-shadow(0 1px 0 rgba(255,255,255,.20));
      transform: translateY(-1px);
    }
    .seal .tap{
      margin-top:4px;
      font-family:"Cormorant Garamond", serif;
      font-size:12px;
      opacity:.96;
      letter-spacing:.10em;
      text-transform:uppercase;
      text-shadow: 0 1px 0 rgba(0,0,0,.25);
    }

    .envHint{
      margin-top:10px;
      font-family:"Playfair Display", serif;
      font-size:15px;
      color:rgba(43,43,43,.78);
    }

    .open .flap{ transform:rotateX(180deg); }
    .open .seal{ opacity:0; transform:translate(-50%,-50%) scale(.96); transition:opacity .5s ease, transform .5s ease; }

    /* Card */
    .card{
      opacity:0;
      transform:translateY(40px);
      transition:all 1.2s ease;
      background:var(--paper);
      border-radius:var(--radius);
      padding:26px 22px 22px;
      margin-top:-52px;
      box-shadow:var(--shadow);
      position:relative;
      z-index:10;
    }
    .show{opacity:1;transform:translateY(0)}

    .title{
      margin:10px 0 6px;
      font-family:"Playfair Display", serif;
      font-size:34px;
      font-style:italic;
    }
    .subtitle{
      margin:0 0 14px;
      color:var(--muted);
      font-size:14px;
      letter-spacing:.08em;
      text-transform:uppercase;
    }

    .announce{
      margin:10px 0 10px;
      font-family:"Playfair Display", serif;
      font-size:18px;
      line-height:1.55;
    }
    .announce .accent{ color:var(--rose); font-style:italic; font-weight:600; }
    .announce .gold{ color:var(--gold); font-weight:700; }

    .pill{
      display:inline-block;
      margin-top:10px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(181,138,58,.25);
      background:linear-gradient(180deg, rgba(181,138,58,.12), rgba(198,95,123,.10));
      font-family:"Playfair Display", serif;
    }
    .pill strong{ color:var(--gold); }

    .imgBox{
      width:90%;
      margin:14px auto 10px;
    }
    .imgBox img{
      width:100%;
      border-radius:18px;
      display:block;
      box-shadow:0 10px 25px rgba(0,0,0,.10);
    }

    .personal{
      margin:14px 0 18px;
      font-family:"Playfair Display", serif;
      font-style:italic;
      font-size:18px;
      line-height:1.6;
      color:#2b2b2b;
    }
    .w1{ color:var(--rose); font-style:normal; font-weight:700; }
    .w2{ color:var(--gold); font-style:normal; font-weight:700; }
    .w3{ color:var(--teal); font-style:normal; font-weight:700; }

    /* Countdown */
    .countdownWrap{
      margin:14px 0 12px;
      padding:14px 12px;
      border-radius:18px;
      background:linear-gradient(180deg, rgba(198,95,123,.10), rgba(181,138,58,.10));
      border:1px solid rgba(181,138,58,.22);
    }
    .countTitle{
      font-family:"Playfair Display", serif;
      font-size:16px;
      margin:0 0 10px;
      letter-spacing:.03em;
      color:#3a2f22;
    }
    .countdown{
      display:flex;
      gap:8px;
      justify-content:center;
      flex-wrap:nowrap;
    }
    .unit{
      flex:1;
      min-width:72px;
      padding:10px 8px;
      border-radius:16px;
      background:#fff;
      box-shadow: 0 10px 25px rgba(0,0,0,.08);
    }
    .num{
      font-family:"Playfair Display", serif;
      font-weight:700;
      font-size:22px;
      line-height:1;
      white-space:nowrap;
    }
    .lab{
      margin-top:6px;
      font-size:12px;
      color:var(--muted);
      letter-spacing:.08em;
      text-transform:uppercase;
      white-space:nowrap;
    }

    .mapsLink{
      display:inline-block;
      margin:10px 0 6px;
      font-family:"Playfair Display", serif;
      color:var(--rose);
      text-decoration:underline;
      text-underline-offset:4px;
    }

    button.rsvp{
      margin-top:12px;
      padding:14px 22px;
      border:0;
      border-radius:999px;
      background:#25D366;
      color:#fff;
      font-size:16px;
      cursor:pointer;
      font-family:"Playfair Display", serif;
      box-shadow:0 12px 28px rgba(37,211,102,.25);
      width:min(320px, 86%);
    }

    .note{
      margin-top:14px;
      font-size:15px;
      color:rgba(43,43,43,.78);
      line-height:1.55;
    }
    .note .gold{ color:var(--gold); font-weight:700; }

    button.closeEnd{
      margin-top:12px;
      padding:12px 18px;
      border-radius:999px;
      border:1px solid rgba(181,138,58,.35);
      background:rgba(255,255,255,.75);
      font-family:"Playfair Display", serif;
      cursor:pointer;
      color:#3a2f22;
      box-shadow:0 10px 20px rgba(0,0,0,.07);
      width:min(320px, 86%);
    }

    .small{
      font-size:13px;
      color:var(--muted);
      margin-top:10px;
    }

    /* Petals */
    .petal{
      position:fixed;
      top:-10%;
      pointer-events:none;
      opacity:.7;
      animation:fall linear infinite;
      z-index:2;
    }
    @keyframes fall{
      to{transform:translateY(120vh) rotate(360deg)}
    }
  </style>
</head>

<body>
  <div class="music" id="musicBtn" title="Musica ON/OFF">üéµ</div>

  <div class="wrap">
    <div class="envWrap">
      <!-- ‚úÖ CAMBIA SOLO QUESTA RIGA PER OGNI COPPIA -->
      <div class="toLine">Per Eva &amp; Gianni</div>

      <div class="env" id="env">
        <div class="goldFrame"></div>
        <div class="goldCorner c1"></div><div class="goldCorner c2"></div><div class="goldCorner c3"></div><div class="goldCorner c4"></div>
        <div class="paperPeek"></div>
        <div class="flap"></div>
        <div class="seal">
          <div>
            <div class="mono">A &amp; S</div>
            <div class="tap">Clicca e apri</div>
          </div>
        </div>
      </div>

      <div class="envHint">Un invito semplice. Un‚Äôemozione grande.</div>
    </div>

    <div class="card" id="card">
      <div class="title">Ada &amp; Simone</div>
      <div class="subtitle">Invito personale</div>

      <div class="announce">
        Siamo <span class="accent">lieti</span> di annunciarvi che ci sposiamo<br>
        il giorno <span class="gold">28 Maggio 2026</span>
        <div class="pill">
          Ore <strong>13:10</strong> ¬∑ Copenhagen City Hall
        </div>
      </div>

      <div class="imgBox">
        <img src="foto-ada-simone.jpg" alt="Ada e Simone">
      </div>

      <div class="personal">
        ‚ÄúSiete <span class="w1">casa</span>, <span class="w2">radici</span> e <span class="w3">presenza</span> costante.<br>
        Questo giorno non avrebbe senso senza di voi.‚Äù
      </div>

      <div class="countdownWrap">
        <div class="countTitle">Countdown al nostro s√¨</div>
        <div class="countdown" aria-live="polite">
          <div class="unit"><div class="num" id="d">‚Äî</div><div class="lab">Giorni</div></div>
          <div class="unit"><div class="num" id="h">‚Äî</div><div class="lab">Ore</div></div>
          <div class="unit"><div class="num" id="m">‚Äî</div><div class="lab">Minuti</div></div>
          <div class="unit"><div class="num" id="s">‚Äî</div><div class="lab">Secondi</div></div>
        </div>
      </div>

      <div class="imgBox">
        <img src="cityhall-cartoon.jpg" alt="Copenhagen City Hall">
      </div>

      <a class="mapsLink" id="gmapsLink" href="#" target="_blank" rel="noopener">Apri in Google Maps</a>

      <button class="rsvp" id="rsvpBtn">Conferma la vostra presenza</button>

      <div class="note">
        <span class="gold">Ulteriori informazioni</span> sulla venue e sull‚Äôorganizzazione della giornata
        verranno condivise presto.
      </div>

      <button class="closeEnd" id="closeBtn" type="button">Chiudi la busta</button>

      <div class="small">Invito personale e riservato</div>
    </div>
  </div>

  <audio id="bg" loop>
    <source src="musica.mp3" type="audio/mpeg">
  </audio>

  <script>
    const CITY_LAT = 55.675278;
    const CITY_LNG = 12.570278;

    const WEDDING_ISO = "2026-05-28T13:10:00+02:00";
    const WEDDING_DATE = new Date(WEDDING_ISO);

    const env = document.getElementById('env');
    const card = document.getElementById('card');
    const closeBtn = document.getElementById('closeBtn');

    const bg = document.getElementById('bg');
    const musicBtn = document.getElementById('musicBtn');
    const rsvpBtn = document.getElementById('rsvpBtn');

    const dEl = document.getElementById('d');
    const hEl = document.getElementById('h');
    const mEl = document.getElementById('m');
    const sEl = document.getElementById('s');

    const gmapsLink = document.getElementById('gmapsLink');
    gmapsLink.href = `https://www.google.com/maps?q=${CITY_LAT},${CITY_LNG}`;

    let playing = false;
    let petalsStarted = false;
    let petals = [];

    env.addEventListener('click', () => {
      env.classList.add('open');
      card.classList.add('show');

      musicBtn.style.display = 'grid';

      bg.currentTime = 0;
      bg.volume = 0.45;
      bg.play().then(()=>{ playing = true; }).catch(()=>{});

      if(!petalsStarted){
        startPetals();
        petalsStarted = true;
      }
    });

    musicBtn.addEventListener('click', () => {
      if (!playing){
        bg.play();
        playing = true;
      } else {
        bg.pause();
        playing = false;
      }
    });

    /* ‚úÖ WhatsApp: NO EMOJI */
    rsvpBtn.addEventListener('click', () => {
      const base =
        "Ciao Ada e Simone\n" +
        "confermiamo con gioia la nostra presenza al vostro matrimonio il 28 maggio 2026 alle 13:10.";

      const text = encodeURIComponent(base);
      window.open("https://wa.me/491777721370?text=" + text, "_blank");
    });

    closeBtn.addEventListener('click', () => {
      card.classList.remove('show');
      env.classList.remove('open');

      bg.pause();
      bg.currentTime = 0;
      playing = false;

      musicBtn.style.display = 'none';

      petals.forEach(p => p.remove());
      petals = [];
      petalsStarted = false;

      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    function startPetals(){
      for(let i=0;i<18;i++){
        const p = document.createElement('div');
        p.className = 'petal';
        p.textContent = 'üå∏';
        p.style.left = (Math.random()*100) + 'vw';
        p.style.fontSize = (14 + Math.random()*10) + 'px';
        p.style.animationDuration = (6 + Math.random()*6) + 's';
        p.style.animationDelay = (Math.random()*2) + 's';
        document.body.appendChild(p);
        petals.push(p);
      }
    }

    function pad2(n){ return String(n).padStart(2,'0'); }

    function updateCountdown(){
      const now = new Date();
      let diff = WEDDING_DATE.getTime() - now.getTime();

      if(diff <= 0){
        dEl.textContent = "0";
        hEl.textContent = "00";
        mEl.textContent = "00";
        sEl.textContent = "00";
        return;
      }

      const sec = Math.floor(diff/1000);
      const days = Math.floor(sec / 86400);
      const hours = Math.floor((sec % 86400) / 3600);
      const mins = Math.floor((sec % 3600) / 60);
      const secs = sec % 60;

      dEl.textContent = days;
      hEl.textContent = pad2(hours);
      mEl.textContent = pad2(mins);
      sEl.textContent = pad2(secs);
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);
  </script>
</body>
</html>
